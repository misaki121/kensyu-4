# 勤怠管理アプリ 仕様書

## 1. 概要
本アプリは、Google Apps Script (GAS) を用いたWebアプリケーション形式の勤怠管理システムです。
スマートフォンでの利用を想定し、PWA（Progressive Web Apps）のようにホーム画面に追加してアプリ感覚で利用可能です。
出退勤の記録はGoogleスプレッドシートに保存され、同時にLINEグループへ通知を行います。

## 2. 機能一覧

### 2.1 出勤打刻
- **機能**: ユーザーが「出勤」ボタンを押下することで、出勤時間を記録する。
- **処理**:
    1. 現在時刻を取得。
    2. スプレッドシートに「日付」「氏名」「出勤時間」を記録。
    3. LINEグループに「〇〇さんが出勤しました」と通知。

### 2.2 退勤打刻
- **機能**: ユーザーが「退勤」ボタンを押下することで、退勤時間を記録し、勤務時間を計算する。
- **処理**:
    1. 現在時刻を取得。
    2. スプレッドシートの該当する出勤レコードに「退勤時間」を記録。
    3. 勤務時間（退勤時間 - 出勤時間）を自動計算し、スプレッドシートに記録。
    4. LINEグループに「〇〇さんが退勤しました。勤務時間: X時間X分」と通知。

### 2.3 課題完了報告
- **機能**: 研修課題の完了を管理者に報告する。
- **処理**:
    1. 「課題完了」ボタンを押下。
    2. 管理者（メールまたはLINE）にアプリのURLを自動送信。
    3. LINEグループに「〇〇さんが課題を完了しました」と通知。

### 2.4 PWA対応（スマホ対応）
- **機能**: スマートフォンのホーム画面に追加し、ネイティブアプリのように全画面で動作させる。
- **仕様**:
    - レスポンシブデザイン（スマホ最適化）。
    - `manifest.json` 相当のメタタグ設定（`apple-mobile-web-app-capable` 等）。

## 3. 画面仕様
- **メイン画面**:
    - タイトル: 「勤怠管理アプリ」
    - 現在時刻表示
    - ボタン配置:
        - [出勤] (大きく表示)
        - [退勤] (大きく表示)
        - [課題完了報告] (サブ機能として配置)

## 4. データ構造 (Googleスプレッドシート)

### シート2 (勤怠ログ)
| カラム | 内容 | 例 |
| :--- | :--- | :--- |
| A | 日付 | 2023/11/27 |
| B | 氏名 | 山田 太郎 |
| C | 出勤時間 | 09:00 |
| D | 退勤時間 | 18:00 |
| E | 勤務時間 | 9時間0分 |
| F | ステータス | 退勤済 |

### シート3 (課題完了報告)
※ 新しい報告は常に2行目（A2～D2）に挿入されます。
| カラム | 内容 | 例 |
| :--- | :--- | :--- |
| A | 時刻 | 18:05 |
| B | 氏名 | 山田 太郎 |
| C | URL | https://script.google.com/... |
| D | ステータス | 課題完了 |

## 5. 外部連携設定
- **LINE Notify**:
    - グループ通知用のアクセストークンが必要。
    - トークンはスクリプトプロパティ（`LINE_TOKEN`）に設定することを推奨。
- **スプレッドシート**:
    - ID: `1Jm8BvzlBH-WG64f6Fzr2GMsivOcag_lFuk-6G25BicA`
- **管理者連絡先**:
    - LINEグループへの通知で兼ねる（課題完了報告もLINEで行う）。

## 6. 技術スタック
- **フロントエンド**: HTML5, CSS3 (Glassmorphism/Neon Style), JavaScript
- **バックエンド**: Google Apps Script (GAS)
- **データベース**: Google Spreadsheet
